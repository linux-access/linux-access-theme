{{ define "main" }}
<main class="max-w-3xl mx-auto px-4 py-8">
  <article class="prose prose-lg dark:prose-invert">
    <h1 class="text-4xl font-bold mb-2">{{ .Title }}</h1>

    <p class="text-sm text-gray-600 mb-6">
      Published: {{ .Date.Format "Jan 2, 2006" }}
      {{ with .Params.author }}
        {{ $author := site.Data.authors.[.] }}
        {{ if $author }}
          — By <a href="/authors/{{ . }}" class="text-blue-600 hover:underline">{{ $author.name }}</a>
        {{ else }}
          — By <span class="font-medium text-gray-800">{{ . }}</span>
        {{ end }}
      {{ end }}
    </p>

    {{ .Content }}
  </article>

  {{ with .Params.tags }}
    <div class="mt-8">
      <h2 class="text-lg font-semibold mb-2">Tags</h2>
      <ul class="flex flex-wrap gap-2">
        {{ range . }}
          <li><a href="/tags/{{ . | urlize }}/" class="inline-block px-3 py-1 bg-gray-200 text-sm rounded hover:bg-gray-300">{{ . }}</a></li>
        {{ end }}
      </ul>
    </div>
  {{ end }}
</main>
{{ end }}